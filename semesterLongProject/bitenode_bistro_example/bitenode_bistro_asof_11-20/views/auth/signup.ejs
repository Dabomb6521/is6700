<% // Set optional variables 
const message = locals.message || ""; 
const entries = locals.entries || {}; 
const errors = locals.errors || []; %>

<!-- Hero Start -->
<div class="container-xxl py-5 bg-dark hero-header mb-5">
  <div class="container text-center my-5 pt-5 pb-4">
    <h1 class="display-3 text-white mb-3 animated slideInDown">Sign Up</h1>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb justify-content-center text-uppercase">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item text-white active" aria-current="page">Sign Up</li>
      </ol>
    </nav>
  </div>
</div>
<!-- Hero End -->
<!-- Navbar & Hero End -->

<!-- Signup Start -->
<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
      <h5 class="section-title ff-secondary text-center text-primary fw-normal">Sign up for your account</h5>
    </div>
    <!-- Signup Form -->
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form action="/auth/signup" method="post">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <div class="form-floating mb-3">
              <% let fieldErrors = errors.filter(error => error.path === "firstName"); %>
              <input type="text" class="form-control <%= fieldErrors.length > 0 && 'is-invalid' %>" id="firstname" name="firstname" placeholder="First Name" required value="<%= entries.firstname %>" />
              <label for="name">First Name</label>
              <div class="invalid-feedback">
                <% fieldErrors.forEach((fieldError) => { %>
                <p><%= fieldError.message %></p>
                <% }) %>
              </div>
            </div>
            <div class="form-floating mb-3">
              <% fieldErrors = errors.filter(error => error.path === "lastName"); %>
              <input type="text" class="form-control <%= fieldErrors.length > 0 && 'is-invalid' %>" id="lastname" name="lastname" placeholder="Last Name" required value="<%= entries.lastname %>" />
              <label for="name">Last Name</label>
              <div class="invalid-feedback">
                <% fieldErrors.forEach((fieldError) => { %>
                <p><%= fieldError.message %></p>
                <% }) %>
              </div>
            </div>
            <div class="form-floating mb-3">
              <% fieldErrors = errors.filter(error => error.path === "email"); %>
              <input type="email" class="form-control <%= fieldErrors.length > 0 && 'is-invalid' %>" id="email" name="email" placeholder="Email" required value="<%= entries.email %>" />
              <label for="email">Email</label>
              <div class="invalid-feedback">
                <% fieldErrors.forEach((fieldError) => { %>
                <p><%= fieldError.message %></p>
                <% }) %>
              </div>
            </div>
            <div class="form-floating mb-3">
              <% fieldErrors = errors.filter(error => error.path === "password"); %>
              <input type="password" class="form-control <%= fieldErrors.length > 0 && 'is-invalid' %>" id="password" name="password" placeholder="Password" required value="<%= entries.password %>"/>
              <label for="password">Password</label>
              <div class="invalid-feedback">
                <% fieldErrors.forEach((fieldError) => { %>
                <p><%= fieldError.message %></p>
                <% }) %>
              </div>
            </div>
            <div class="form-floating mb-3">
              <% fieldErrors = errors.filter(error => error.path === "confirmPassword"); %>
              <input type="password" class="form-control <%= fieldErrors.length > 0 && 'is-invalid' %>" id="confirmpassword" name="confirmpassword" placeholder="Confirm Password" required value="<%= entries.confirmpassword %>" />
              <label for="confirm-password">Confirm Password</label>
              <div class="invalid-feedback">
                <% fieldErrors.forEach((fieldError) => { %>
                <p><%= fieldError.message %></p>
                <% }) %>
              </div>
            </div>
            <button class="btn btn-primary w-100 py-3" type="submit">Sign Up</button>
          </form>
          <div class="text-center mt-3">
            <p>Already have an account? <a href="/auth/login">Login here</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Signup End -->
